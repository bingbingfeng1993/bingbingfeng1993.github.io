%---定制目录--------------------------------------------------------------------------
\makeatletter
\def\@bfdottedtocline#1#2#3#4#5{%
\ifnum #1>\c@tocdepth \else
\vskip \z@ \@plus.2\p@
{\leftskip #2\relax \rightskip \@tocrmarg \parfillskip -\rightskip
\parindent #2\relax\@afterindenttrue
\interlinepenalty\@M
\leavevmode \bfseries
\@tempdima #3\relax
\advance\leftskip \@tempdima \null\nobreak\hskip -\leftskip
{#4}\normalfont\nobreak
\leaders\hbox{$\m@th \mkern \@dotsep mu\hbox{.}\mkern \@dotsep mu$}\hfill
\nobreak
\hb@xt@\@pnumwidth{\hfil\normalfont \normalcolor #5}%
\par}%
\fi}
\renewcommand*\l@chapter{\@bfdottedtocline{0}{0em}{1.5em}}
\makeatother

%---定理, 定义 等环境的设置---------------------------------------------------------------
\newtheorem{definition}{\hspace{2em}定义}[section]
\newtheorem{proposition}{\hspace{2em}命题}[section]
\newtheorem{Property}{\hspace{2em}性质}
\newtheorem*{proof}{\hspace{2em}证}
\renewcommand{\qedsymbol}{$\hfill\blacksquare$}
\newtheorem{lemma}{\hspace{2em}引理}[section]
\newtheorem{theorem}{\hspace{2em}定理}
\newtheorem{Corollary}{\hspace{2em}推论}
\newtheorem{Conjecture}{\hspace{2em}猜想}
\newtheorem{example}{\hspace{2em}例}
\newtheorem{remark}{\hspace{2em}注}
\newcommand{\upcite}[1]{\textsuperscript{\cite{#1}}}

%---自定义命令和环境-----------------------------------------------------------------------
\newenvironment{cnabstract}[1]{%
    \chapter*{摘~~~~要}
    \songti\zihao{-4}#1%
    \vskip 0.2cm}

\newenvironment{cnkeywords}[1]{%
    \noindent{\heiti\zihao{-4} 关键词：}\zihao{-4}#1%
}

\newenvironment{enabstract}[1]{%
    \chapter*{\setmainfont{Arial}\bf Abstract}\zihao{-4}#1%
    \vskip 0.2cm
}

\newenvironment{enkeywords}[1]{%
    \noindent{\bf Key Words: }\zihao{-4}#1%
}

\CTEXsetup[format={\centering\sffamily}]{chapter}
\CTEXsetup[nameformat={\heiti\zihao{3}}]{chapter}
\CTEXsetup[titleformat={\heiti\zihao{3}}]{chapter}
\CTEXsetup[numberformat={\heiti\zihao{3}}]{chapter}
\CTEXsetup[beforeskip={0pt},afterskip={30pt}]{chapter}
\CTEXsetup[name={第, 章},number={\arabic{chapter}}]{chapter}

\CTEXsetup[format={\flushleft\sffamily\heiti\zihao{4}}]{section}
\CTEXsetup[beforeskip={24pt},afterskip={6pt}]{section}

\CTEXsetup[format={\flushleft\sffamily\heiti\zihao{-4}}]{subsection}
\CTEXsetup[beforeskip={12pt},afterskip={6pt}]{subsection}

\CTEXsetup[format={\flushleft\sffamily\heiti\zihao{-4}}]{subsubsection}
\CTEXsetup[beforeskip={12pt},afterskip={6pt}]{subsubsection}

\newlength\OneImW
\setlength\OneImW{0.64\textwidth}

\newlength\TwoImW
\setlength\TwoImW{0.48\textwidth}

\newlength\BigTwoImW
\setlength\BigTwoImW{0.4\textwidth}

\newlength\ThreeImW
\setlength\ThreeImW{0.3\textwidth}

\newlength\FourImW
\setlength\FourImW{0.24\columnwidth}

\newlength\BigOneImW
\setlength\BigOneImW{0.5\columnwidth}

\newlength\figsep
\setlength\figsep{1.5em}

\newcommand{\Mod}[1]{\ \mathrm{mod}\ #1}
\makeatletter
\newcommand{\tpmod}[1]{{\@displayfalse\pmod{#1}}}
\makeatother

%---罗马数字--------
\makeatletter
\newcommand*{\rom}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother

%---将Algorithm改为中文宋体“算法”--------
\renewcommand{\algorithmcfname}{\songti 算法}
\makeatletter
\renewcommand{\algocf@captiontext}[2]{#1\algocf@typo\quad \AlCapFnt{}#2}
\makeatother 